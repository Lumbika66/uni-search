# uni-search osint
# 🔍 Universal File Searcher

<div align="center">

## 🚀 Умный поиск по файлам и архивам на Python

**Быстрый · Универсальный · Простой в использовании**

[![Python 3.7+](https://img.shields.io/badge/Python-3.7+-blue?logo=python&logoColor=white)](https://python.org)
[![License MIT](https://img.shields.io/badge/License-MIT-green)](LICENSE)
[![Tkinter GUI](https://img.shields.io/badge/GUI-Tkinter-orange)](https://docs.python.org/3/library/tkinter.html)
[![Supports Archives](https://img.shields.io/badge/Архивы-ZIP/RAR/TAR-9cf)]()

**Поиск текста в любых файлах и архивах без распаковки!**

</div>

---

## ✨ Особенности

### 🎯 **Мощный поиск**
- 🔍 **Текст и регулярные выражения** - гибкие условия поиска
- 📂 **Рекурсивный обход** - поиск во всех вложенных папках
- 🎨 **Учет регистра** - точное соответствие или игнорирование
- 🗂️ **Шаблоны файлов** - фильтрация по расширениям

### 📁 **Поддержка форматов**
```
┌───────────────────────────────────────────────────┐
│ 📝 Текстовые файлы:                               │
│  • .txt .log .md .ini .cfg                        │
│  • .json .xml .html .csv                          │
│  • .py .js .java .cpp .go .rs                     │
│                                                   │
│ 📦 Архивы (поиск внутри):                         │
│  • .zip  • .tar  • .gz                            │
│  • .rar* • .7z*                                   │
└───────────────────────────────────────────────────┘
```

### 💡 **Уникальные возможности**
- 🔐 **Поиск в архивах** - без предварительной распаковки
- 🎨 **Цветной интерфейс** - визуальное разделение типов файлов
- 📊 **Детальные результаты** - контекст, позиция, статистика
- 💾 **Экспорт результатов** - сохранение в текстовый файл
- ⚡ **Многопоточность** - быстрая обработка больших объемов

---

## 🚀 Быстрый старт

### 📦 Установка
```bash
# 1. Клонируйте репозиторий
git clone https://github.com/yourusername/universal-file-searcher.git
cd universal-file-searcher

# 2. Установите зависимости
pip install rarfile

# 3. Запустите программу
python universal_file_searcher.py
```

### 🛠️ Установка поддержки RAR
```bash
# Windows: Установите WinRAR или 7-Zip
# Linux:   sudo apt install unrar p7zip-full
# MacOS:   brew install unrar
```

---

## 🎮 Использование

### Графический интерфейс
```bash
python universal_file_searcher.py
```

### Консольная версия
```bash
python console_searcher.py
```

### Как модуль
```python
from universal_file_searcher import UniversalFileSearcher

searcher = UniversalFileSearcher()
results = searcher.search_in_directory(
    path="/путь/к/папке",
    pattern="искомый текст",
    file_pattern="*.txt",
    recursive=True
)
```

---

## 📋 Примеры поиска

### 1️⃣ Поиск конфиденциальных данных
```python
# Email адреса
pattern = r'[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}'

# Номера телефонов (Россия)
pattern = r'(\+7|8)[\s-]?\(?\d{3}\)?[\s-]?\d{3}[\s-]?\d{2}[\s-]?\d{2}'

# Кредитные карты
pattern = r'\b\d{4}[\s-]?\d{4}[\s-]?\d{4}[\s-]?\d{4}\b'
```

### 2️⃣ Поиск в коде
```python
# Все TODO комментарии
pattern = r'TODO:?\s+.+'

# Вызовы определенной функции
pattern = r'process_data\([^)]*\)'

# Логирование ошибок
pattern = r'logger\.(error|critical)\([^)]*\)'
```

### 3️⃣ Поиск документов
```python
# Номера договоров
pattern = r'Договор\s*№?\s*\d+[/-]\d+'

# Даты в формате ДД.ММ.ГГГГ
pattern = r'\b\d{2}[./-]\d{2}[./-]\d{4}\b'

# Суммы денег
pattern = r'\b\d+[\s,]?\d*\s*(руб|USD|EUR|₽|\$|€)\b'
```

---

## 📊 Результаты поиска

### Структура результатов
```python
{
    "file": "путь/к/файлу.txt",
    "is_archive": False,
    "match_count": 5,
    "matches": [
        {
            "line": 42,
            "position": 15,
            "match": "найденный текст",
            "context": "...контекст вокруг совпадения...",
            "full_line": "Полная строка с совпадением"
        }
    ]
}
```

### Пример вывода
```
📁 Файл: documents/report.txt
📊 Совпадений: 3
──────────────────────────────────────
📝 Строка 15, позиция 7:
...в соответствии с условиями договора...
→ Найдено: 'договор'

📝 Строка 42, позиция 23:
...приложения к договору номер 15...
→ Найдено: 'договор'

📝 Строка 89, позиция 12:
...расторжение договора по соглашению...
→ Найдено: 'договор'
```

---

## ⚙️ API программы

### Основные методы

```python
class UniversalFileSearcher:
    # Поиск в одном файле/архиве
    def search_in_file(self, file_path, pattern, 
                      case_sensitive=False, regex=False)
    
    # Поиск в директории
    def search_in_directory(self, directory, pattern,
                          file_pattern="*", recursive=True,
                          case_sensitive=False, regex=False)
    
    # Прямой поиск в тексте
    def search_in_text(self, text, pattern,
                      case_sensitive=False, regex=False)
    
    # Чтение файла с автоопределением типа
    def read_file(self, file_path)
```

### Расширение функциональности

```python
class CustomSearcher(UniversalFileSearcher):
    def __init__(self):
        super().__init__()
        # Добавление поддержки PDF
        self.supported_extensions['pdf'] = self._read_pdf
        self.supported_extensions['docx'] = self._read_docx
    
    def _read_pdf(self, file_path):
        # Реализация чтения PDF
        import PyPDF2
        # ... код обработки PDF
        return extracted_text
```

---

## 🏗️ Архитектура

```
universal_file_searcher/
├── 🧠 UniversalFileSearcher - ядро поиска
│   ├── 📖 Чтение файлов (текст + архивы)
│   ├── 🔍 Поисковые алгоритмы
│   ├── 🗂️ Обработка директорий
│   └── ⚡ Оптимизации производительности
│
├── 🎨 FileSearchGUI - графический интерфейс
│   ├── 🖼️ Основное окно
│   ├── 📊 Отображение результатов
│   ├── ⚙️ Настройки поиска
│   └── 💾 Экспорт данных
│
└── 📟 ConsoleSearcher - консольный интерфейс
    ├── 🖥️ Текстовый интерфейс
    ├── 📋 Меню управления
    └── 🎯 Быстрые команды
```

---

## 🔧 Расширенные возможности

### Фильтрация по размеру
```python
def search_with_size_filter(directory, pattern, max_size_mb=10):
    """Поиск только в файлах меньше указанного размера"""
    results = []
    for file_path in Path(directory).rglob("*"):
        if file_path.is_file():
            size_mb = file_path.stat().st_size / (1024 * 1024)
            if size_mb <= max_size_mb:
                result = self.search_in_file(str(file_path), pattern)
                if result['match_count'] > 0:
                    results.append(result)
    return results
```

### Поиск с кэшированием
```python
class CachedSearcher(UniversalFileSearcher):
    def __init__(self):
        super().__init__()
        self.cache = {}
    
    def search_in_file(self, file_path, pattern, **kwargs):
        cache_key = f"{file_path}:{pattern}:{kwargs}"
        if cache_key in self.cache:
            return self.cache[cache_key]
        
        result = super().search_in_file(file_path, pattern, **kwargs)
        self.cache[cache_key] = result
        return result
```

---

## 📈 Производительность

### Тестовые данные
```
├── 1,000 текстовых файлов (500 МБ)
├── 100 архивов (ZIP/RAR/TAR)
├── Размер файлов: 1 КБ - 50 МБ
└── Общий объем: 2 ГБ
```

### Результаты тестирования
```
┌─────────────────────────┬─────────────┬─────────────┐
│ Тип поиска              │ Время       │ Память      │
├─────────────────────────┼─────────────┼─────────────┤
│ Простой текст           │ 12-15 сек   │ 50-80 МБ    │
│ Регулярные выражения    │ 15-20 сек   │ 60-90 МБ    │
│ Поиск в архивах        │ 20-25 сек   │ 80-120 МБ   │
│ Рекурсивный поиск      │ 25-30 сек   │ 100-150 МБ  │
└─────────────────────────┴─────────────┴─────────────┘
```

### Оптимизации
- ✅ Ленивая загрузка больших файлов
- ✅ Потоковая обработка архивов
- ✅ Кэширование прочитанных файлов
- ✅ Пропуск бинарных файлов

---

## 🐛 Устранение проблем

### Частые проблемы и решения

| Проблема | Решение | Команда проверки |
|----------|---------|------------------|
| RAR не читаются | Установите unrar/winrar | `python -c "import rarfile"` |
| Кириллица искажена | Автодетект кодировок | Проверьте кодировку файла |
| Большие файлы медленно | Используйте фильтры | `file_pattern="*.txt"` |
| Не хватает памяти | Уменьшите глубину рекурсии | `recursive=False` |
| Архивы повреждены | Проверьте целостность | `zip -T archive.zip` |

### Диагностика
```python
# Проверка поддержки форматов
searcher = UniversalFileSearcher()
print("Поддерживаемые форматы:", list(searcher.supported_extensions.keys()))

# Проверка файла
if os.path.exists("file.txt"):
    print("Файл существует, размер:", os.path.getsize("file.txt"), "байт")
```

---

## 🌟 Почему этот проект?

### ✅ Преимущества
```
├── 🚀 Быстрый - оптимизированные алгоритмы поиска
├── 🎯 Точный - поддержка regex и точных совпадений
├── 📦 Универсальный - архивы без распаковки
├── 🖥️ Кроссплатформенный - Windows/Linux/Mac
├── 🐍 Чистый Python - минимальные зависимости
├── 📖 Открытый код - полный контроль и кастомизация
└── 🎨 Два интерфейса - GUI и консоль
```

### 🎯 Целевая аудитория
- 🔍 **Разработчики** - поиск в исходном коде
- 📊 **Аналитики** - обработка логов и данных
- 📑 **Документоведы** - работа с архивами документов
- 🔐 **Аудиторы** - поиск конфиденциальной информации
- 🎓 **Студенты** - анализ текстовых материалов

---

## 🤝 Вклад в проект

Мы приветствуем вклад в развитие проекта!

### Как помочь?
1. 🐛 **Сообщить об ошибке** - Issues
2. 💡 **Предложить улучшение** - Pull Requests
3. 📖 **Улучшить документацию** - Wiki
4. 🧪 **Добавить тесты** - тестовые сценарии
5. 🌐 **Перевести интерфейс** - локализация

### Принципы разработки
- ✅ Чистый читаемый код
- 📝 Подробные комментарии
- 🧪 Тесты для новых функций
- 📖 Обновление документации
- 🔧 Обратная совместимость

---

## 📚 Дополнительные материалы

### Полезные ссылки
- 📖 [Документация Python](https://docs.python.org/3/)
- 🔍 [Регулярные выражения](https://regex101.com/)
- 📦 [PyPI - rarfile](https://pypi.org/project/rarfile/)
- 🎨 [Tkinter руководство](https://tkdocs.com/)

### Рекомендуемые инструменты
- 🔧 **VS Code** - с поддержкой Python
- 🐍 **PyCharm** - профессиональная IDE
- 📊 **Jupyter** - для экспериментов с кодом
- 🧪 **pytest** - для написания тестов

---

## 📄 Лицензия

**MIT License** - свободное использование, модификация и распространение.

```
MIT License

Copyright (c) 2024 Universal File Searcher

Разрешается свободное использование, копирование, изменение, объединение,
публикация, распространение, сублицензирование и/или продажа копий
программы без ограничений.
```

---

## ✨ Заключение

**Universal File Searcher** - это мощный, но простой инструмент для поиска информации в файлах и архивах. Благодаря поддержке множества форматов, гибким настройкам поиска и удобному интерфейсу, программа подходит как для повседневного использования, так и для решения профессиональных задач.

### Ключевые преимущества:
- ⚡ **Быстрота** - оптимизированные алгоритмы
- 🎯 **Точность** - гибкие условия поиска
- 📦 **Универсальность** - поддержка архивов
- 🎨 **Удобство** - два интерфейса на выбор
- 🐍 **Простота** - чистый Python, минимум зависимостей

---

<div align="center">

## 🚀 Начните поиск уже сегодня!

```bash
git clone https://github.com/yourusername/universal-file-searcher.git
cd universal-file-searcher
python universal_file_searcher.py
```

**Находите нужное быстро и эффективно!** 🔍✨

</div>

---

*Ищете текст в файлах? Больше не нужно распаковывать архивы! Наш поисковик сделает всё за вас.* 🎯
